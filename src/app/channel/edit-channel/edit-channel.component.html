<section appClickOutside (clickOutside)="closeChannel()">
  <div class="popup-container channel-container">
    <div class="header">
      <div class="title-content">
        <div class="title-icon-div">
          <mat-icon>tag</mat-icon>
          <h3 class="n-h3">{{ activeChannel.channelName }}</h3>
        </div>
        <div class="icon-container">
          <mat-icon class="close-icon" (click)="closeChannel()">close</mat-icon>
        </div>
      </div>
      <div class="mobile-shadow"></div>
    </div>
    <div class="popup-body" [class.editing-active]="editing">
      <div
        class="input-container"
        [class.border]="!editing"
        [class.editing-active]="editing"
      >
        <div class="title-save-div">
          <p class="n-p bold">Channel-Name</p>
          <a
            (click)="edit()"
            [ngClass]="{ 'edit-icon': chatService.mobileScreen() }"
          >
            <span *ngIf="!chatService.mobileScreen()">{{
              editing ? "Speichern" : "Bearbeiten"
            }}</span>
            <mat-icon *ngIf="chatService.mobileScreen()">{{
              editing ? "check_circle" : "edit"
            }}</mat-icon>
          </a>
        </div>
        <div class="inputfield">
          @if(!editing){
          <mat-icon>tag</mat-icon>
          <p class="n-p">{{ channelName }}</p>
          }@else{
          <input class="padding-left" [(ngModel)]="channelName" type="text" />
          }
        </div>
      </div>
      <div
        class="input-container"
        [class.border]="!editing"
        [class.editing-active]="editing"
      >
        <div class="title-save-div">
          <p class="n-p bold">Beschreibung</p>
          <a
            (click)="edit()"
            [ngClass]="{ 'edit-icon': chatService.mobileScreen() }"
          >
            <span *ngIf="!chatService.mobileScreen()">{{
              editing ? "Speichern" : "Bearbeiten"
            }}</span>
            <mat-icon *ngIf="chatService.mobileScreen()">{{
              editing ? "check_circle" : "edit"
            }}</mat-icon>
          </a>
        </div>
        @if(!editing){
        <p class="n-p">{{ channelDescription }}</p>
        }@else{
        <input [(ngModel)]="channelDescription" type="text" />
        }
        <div class="line"></div>
        <div class="creator-container">
          <p class="n-p bold">Erstellt von</p>
          <h3 class="n-h3 color-p-3">{{ activeChannel.createdBy }}</h3>
        </div>
      </div>

      <app-member
        class="app-member"
        *ngIf="this.chatService.mobileScreen()"
        [isEditChannelPopup]="true"
      ></app-member>

      <div class="btn-container">
        <button
          (click)="deleteUserFromChannel()"
          class="btn-default btn-primary"
        >
          Channel verlassen
        </button>
      </div>
    </div>
  </div>
</section>
<div *ngIf="!this.chatService.mobileScreen()" class="shaded-background"></div>
